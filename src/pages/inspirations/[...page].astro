---
import type { Page, PaginateFunction } from 'astro'
import type { InspirationType } from '../../schemas/inspirations'
import { getParsedInspirations } from '../../utils/getParsedInspirations'
import InspirationGrid from './_InspirationGrid.astro'

export async function getStaticPaths({
	paginate,
}: {
	paginate: PaginateFunction
}) {
	const parsedInspirations = await getParsedInspirations()
	return paginate(parsedInspirations, {
		pageSize: 48,
	}).map((page) => ({
		...page,
		props: {
			...page.props,
			allInspirations: parsedInspirations,
		},
	}))
}

export interface Props {
	page: Page
	allInspirations: InspirationType[]
}

const { page, allInspirations } = Astro.props
---

<InspirationGrid page={page} allInspirations={allInspirations} />
