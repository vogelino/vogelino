---
import { getCollection } from 'astro:content'
import StuffSidebar from '../../components/StuffSidebar'
import type { CeramicType } from '../../content/config'
import Layout from '../../layouts/Layout.astro'
import StuffLayout from '../../layouts/StuffLayout.astro'

export async function getStaticPaths() {
	const ceramics = await getCollection('ceramics')
	return ceramics.map((ceramic) => {
		return {
			params: { slug: ceramic.slug },
			props: {
				ceramic,
			},
		}
	})
}

const { ceramic } = Astro.props

export type Props = {
	ceramic: {
		id: string
		slug: string
		body: string
		collection: 'ceramics'
		data: CeramicType
		render: () => Promise<void>
	}
}
---

<Layout
  title={`Ceramic: ${ceramic.data.name} | Vogelino's Ceramics`}
  slug={`ceramics`}
>
  <StuffLayout showLeftSidebar>
    <StuffSidebar client:load style="grid-area: left-sidebar;" position="left">
      <>{ceramic.data.name}</>
    </StuffSidebar>
  </StuffLayout>
</Layout>
